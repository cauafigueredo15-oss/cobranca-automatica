<div align="center">

  <img width="100%" src="https://capsule-render.vercel.app/api?type=waving&color=1e40af&height=120&section=header"/>

  

  <h1>

    <img src="https://readme-typing-svg.herokuapp.com/?lines=CobranÃ§a+AutomÃ¡tica+ğŸ’³;Sistema+Inteligente+de+CobranÃ§a;WhatsApp+Bot+com+IA;Resposta+AutomÃ¡tica+Inteligente&font=Fira+Code&center=true&width=700&height=50&color=dc2626&vCenter=true&pause=1000&size=22" />

  </h1>

  

  <samp>Sistema automatizado de cobranÃ§a com WhatsApp e IA</samp>

  <br/><br/>

  

  <img src="https://img.shields.io/badge/Python-3.11-3776AB?style=for-the-badge&logo=python&logoColor=white"/>

  <img src="https://img.shields.io/badge/Twilio-WhatsApp-22C55E?style=for-the-badge&logo=twilio&logoColor=white"/>

  <img src="https://img.shields.io/badge/Groq-llama3.3-70b-dc2626?style=for-the-badge"/>

  <img src="https://img.shields.io/badge/GitHub-Actions-2088FF?style=for-the-badge&logo=github&logoColor=white"/>

</div>



<br/>



## `> system.overview()`



```python

class CobrancaAutomatica:

    def __init__(self):

        self.name = "CobranÃ§a AutomÃ¡tica"

        self.tagline = "Sistema inteligente de cobranÃ§a com WhatsApp e IA"

        self.python_version = "3.11+"

    

    def architecture(self):

        return {

            "core": "Python 3.11",

            "messaging": "Twilio WhatsApp API",

            "ai_engine": "Groq (llama-3.3-70b-versatile)",

            "automation": "GitHub Actions (scheduled)",

            "webhook": "Twilio Functions (serverless)"

        }

    

    def capabilities(self):

        return [

            {"feature": "CÃ¡lculo AutomÃ¡tico de Parcelas", "icon": "ğŸ“…"},

            {"feature": "Ajuste para Dias Ãšteis", "icon": "ğŸ“†"},

            {"feature": "CÃ¡lculo de Multa e Juros", "icon": "ğŸ’°"},

            {"feature": "Envio AutomÃ¡tico WhatsApp", "icon": "ğŸ’¬"},

            {"feature": "Chatbot com IA", "icon": "ğŸ¤–"},

            {"feature": "Resposta AutomÃ¡tica", "icon": "âš¡"}

        ]

    

    def differentiators(self):

        return [

            "Vencimento baseado em dias Ãºteis (N dias apÃ³s inÃ­cio do mÃªs)",

            "Chatbot inteligente com Groq AI para responder dÃºvidas",

            "Twilio Functions serverless (sem servidor 24/7)",

            "ExecuÃ§Ã£o automÃ¡tica via GitHub Actions",

            "Respostas automÃ¡ticas em tempo real via webhook",

            "CÃ¡lculo preciso de juros compostos e quitaÃ§Ã£o antecipada"

        ]

```



<br/>



## `> tech_stack`



<div align="center">

  <img src="https://skillicons.dev/icons?i=python,twilio,githubactions,docker&theme=dark&perline=4" />

</div>



<table align="center">

<tr>

<td align="center" width="33%">

<strong>ğŸ Core & Processing</strong><br/><br/>

<img src="https://img.shields.io/badge/Python-3.11-3776AB?style=flat-square&logo=python"/>

<img src="https://img.shields.io/badge/pytz-Timezones-3776AB?style=flat-square"/>

<img src="https://img.shields.io/badge/holidays-BR_Holidays-3776AB?style=flat-square"/>

<img src="https://img.shields.io/badge/python--dateutil-Dates-3776AB?style=flat-square"/>

</td>

<td align="center" width="33%">

<strong>ğŸ’¬ Messaging & AI</strong><br/><br/>

<img src="https://img.shields.io/badge/Twilio-WhatsApp-22C55E?style=flat-square&logo=twilio"/>

<img src="https://img.shields.io/badge/Groq-llama3.3--70b-dc2626?style=flat-square"/>

<img src="https://img.shields.io/badge/Twilio-Functions-22C55E?style=flat-square"/>

</td>

<td align="center" width="33%">

<strong>âš¡ Automation</strong><br/><br/>

<img src="https://img.shields.io/badge/GitHub-Actions-2088FF?style=flat-square&logo=github"/>

<img src="https://img.shields.io/badge/Cron-Scheduled-2088FF?style=flat-square"/>

</td>

</tr>

</table>



<br/>



## `> key_features`



<table align="center">

<tr>

<td align="center" width="25%">

<strong>ğŸ“… CÃ¡lculo Inteligente</strong><br/><br/>

<samp>

Vencimentos calculados como <strong>N dias Ãºteis apÃ³s inÃ­cio do mÃªs</strong>. Ajuste automÃ¡tico para feriados e finais de semana.

</samp>

</td>

<td align="center" width="25%">

<strong>ğŸ’° Multa e Juros</strong><br/><br/>

<samp>

CÃ¡lculo preciso de <strong>multa (2%) e juros compostos (1% ao mÃªs)</strong> com pro rata diÃ¡rio.

</samp>

</td>

<td align="center" width="25%">

<strong>ğŸ’¬ Chatbot IA</strong><br/><br/>

<samp>

Responde automaticamente dÃºvidas sobre dÃ­vida, parcelas e pagamentos usando <strong>Groq AI (llama-3.3-70b)</strong>.

</samp>

</td>

<td align="center" width="25%">

<strong>âš¡ Automatizado</strong><br/><br/>

<samp>

<strong>GitHub Actions</strong> executa diariamente. <strong>Twilio Functions</strong> responde em tempo real via webhook.

</samp>

</td>

</tr>

</table>



<br/>



## `> installation`



### Prerequisites



<table align="center">

<tr>

<td align="center">

<img src="https://img.shields.io/badge/Python-3.11+-3776AB?style=flat-square&logo=python&logoColor=white"/><br/>

<samp>Python 3.11+</samp>

</td>

<td align="center">

<img src="https://img.shields.io/badge/Twilio-Account-22C55E?style=flat-square&logo=twilio&logoColor=white"/><br/>

<samp>Conta Twilio</samp>

</td>

<td align="center">

<img src="https://img.shields.io/badge/Groq-API-dc2626?style=flat-square"/><br/>

<samp>API Key Groq</samp>

</td>

<td align="center">

<img src="https://img.shields.io/badge/GitHub-Actions-2088FF?style=flat-square&logo=github&logoColor=white"/><br/>

<samp>GitHub Repository</samp>

</td>

</tr>

</table>



### Quick Start



```bash

# 1. Clone o repositÃ³rio

git clone https://github.com/cauafigueredo15-oss/cobranca-automatica.git

cd cobranca-automatica



# 2. Instale dependÃªncias

pip install -r requirements.txt



# 3. Configure variÃ¡veis de ambiente

# Crie um arquivo .env ou configure no GitHub Secrets:

# TWILIO_ACCOUNT_SID=seu_sid

# TWILIO_AUTH_TOKEN=seu_token

# TWILIO_FROM=+14155238886

# GROQ_API_KEY=sua_chave_groq

# DEBTOR_PHONE=+558488910528

# PIX_KEY=84988910528



# 4. Execute localmente (teste)

python cobranca_single.py
```



### ConfiguraÃ§Ã£o GitHub Actions



1. **Adicione Secrets no GitHub:**

   - Settings â†’ Secrets and variables â†’ Actions

   - Adicione: `TWILIO_ACCOUNT_SID`, `TWILIO_AUTH_TOKEN`, `TWILIO_FROM`, `GROQ_API_KEY`

2. **O workflow executa automaticamente:**

   - Diariamente Ã s 08:00 BRT (envio de cobranÃ§as)

   - Respostas automÃ¡ticas via Twilio Functions (webhook em tempo real)



### ConfiguraÃ§Ã£o Twilio Functions (Webhook)



1. **Crie Twilio Function:**

   - Functions & Assets â†’ Services â†’ Create Service

   - Adicione Function com cÃ³digo de `twilio-function.js`

2. **Configure Environment Variables:**

   - `GROQ_API_KEY`, `DEBTOR_NAME`, `INSTALLMENT_VALUE`, `PIX_KEY`, etc.

3. **Configure Webhook:**

   - WhatsApp Sandbox â†’ Sandbox settings

   - "When a message comes in" â†’ URL da Function

   - MÃ©todo: POST



<br/>



## `> architecture_flow`



<div align="center">



```mermaid

graph TD

    A[â° GitHub Actions<br/>08:00 BRT DiÃ¡rio] -->|Executa| B[ğŸ“… cobranca_single.py]

    B -->|Calcula Vencimentos| C{ğŸ“Š Parcela Vencendo Hoje?}

    C -->|Sim| D[ğŸ’¬ Envia WhatsApp<br/>via Twilio]

    C -->|NÃ£o| E[ğŸ“ Log: Nenhuma parcela]

    

    F[ğŸ‘¤ Cliente Responde] -->|Webhook| G[âš¡ Twilio Function]

    G -->|Chama| H[ğŸ¤– Groq AI<br/>llama-3.3-70b]

    H -->|Gera Resposta| I[ğŸ’¬ Resposta AutomÃ¡tica]

    I -->|Envia| F

    


    

    style A fill:#1e40af,stroke:#dc2626,stroke-width:2px,color:#fff

    style D fill:#22C55E,stroke:#1e40af,stroke-width:2px,color:#fff

    style G fill:#dc2626,stroke:#1e40af,stroke-width:2px,color:#fff

    style H fill:#dc2626,stroke:#1e40af,stroke-width:2px,color:#fff

```



</div>



<br/>



## `> project_structure`



```

cobranca-automatica/

â”‚

â”œâ”€â”€ ğŸ“„ cobranca_single.py          # Sistema principal de cobranÃ§a

â”œâ”€â”€ ğŸ¤– chatbot_simples.py          # Chatbot com Groq AI

â”œâ”€â”€ âš¡ twilio-function.js          # Twilio Function (webhook serverless)

â”œâ”€â”€ ğŸŒ webhook.py                  # Webhook Flask (alternativa)

â”‚

â”œâ”€â”€ âš™ï¸ .github/

â”‚   â””â”€â”€ workflows/

â”‚       â””â”€â”€ cobranca_single.yml    # Workflow: envio diÃ¡rio

â”‚

â”œâ”€â”€ ğŸ“¦ requirements.txt            # DependÃªncias Python

â””â”€â”€ ğŸ“– README.md                   # Este arquivo

```



<br/>



## `> configuration`



### VariÃ¡veis de Ambiente



```bash

# ConfiguraÃ§Ãµes de CobranÃ§a

START_YEAR=2026

START_MONTH=1

BUSINESS_DAYS_AFTER_MONTH_START=5  # 5Âº dia Ãºtil do mÃªs

INSTALLMENTS=6

INSTALLMENT_VALUE=386.56

DEBTOR_NAME=Samuel Cassiano de Carvalho

DEBTOR_PHONE=+558488910528

PIX_KEY=84988910528

TIMEZONE=America/Sao_Paulo

MULTA_PERCENT=2.0

INTEREST_MONTHLY_PERCENT=1.0

GRACE_DAYS=0

CURRENCY=BRL



# Twilio

TWILIO_ACCOUNT_SID=seu_account_sid

TWILIO_AUTH_TOKEN=seu_auth_token

TWILIO_FROM=+14155238886

WHATSAPP_PROVIDER=twilio



# Groq AI

GROQ_API_KEY=sua_chave_groq
```



<br/>



## `> features`



### ğŸ’³ Sistema de CobranÃ§a



- âœ… **CÃ¡lculo de Vencimentos**: N dias Ãºteis apÃ³s inÃ­cio do mÃªs

- âœ… **Ajuste AutomÃ¡tico**: Feriados e finais de semana

- âœ… **Multa e Juros**: CÃ¡lculo preciso com pro rata diÃ¡rio

- âœ… **Mensagens Formatadas**: Lista completa de parcelas com status

- âœ… **InformaÃ§Ã£o PIX**: Chave PIX incluÃ­da automaticamente



### ğŸ¤– Chatbot Inteligente



- âœ… **Resposta AutomÃ¡tica**: Via Twilio Functions (serverless)

- âœ… **IA AvanÃ§ada**: Groq llama-3.3-70b-versatile

- âœ… **Contexto Atualizado**: InformaÃ§Ãµes da dÃ­vida em tempo real

- âœ… **CÃ¡lculos Financeiros**: Entende juros compostos e quitaÃ§Ã£o antecipada

- âœ… **Fallback Inteligente**: Respostas automÃ¡ticas se IA falhar



### âš¡ AutomaÃ§Ã£o



- âœ… **GitHub Actions**: ExecuÃ§Ã£o diÃ¡ria automÃ¡tica (envio de cobranÃ§as)

- âœ… **Twilio Functions**: Webhook serverless para respostas em tempo real

- âœ… **Sem Servidor 24/7**: Tudo serverless/gratuito

- âœ… **Logs Detalhados**: Rastreamento completo de operaÃ§Ãµes



<br/>



## `> usage`



### ExecuÃ§Ã£o Manual



```bash

# Modo teste (nÃ£o envia mensagens)

TEST_MODE=true python cobranca_single.py



# ForÃ§ar data de vencimento (para testes)

NOW_OVERRIDE=2026-01-05 python cobranca_single.py



# Modo produÃ§Ã£o (envia mensagens reais)

TEST_MODE=false python cobranca_single.py
```



### ExecuÃ§Ã£o AutomÃ¡tica



O sistema executa automaticamente:

- **08:00 BRT diariamente** (GitHub Actions): Envia cobranÃ§as para parcelas vencendo

- **Tempo real** (Twilio Functions): Responde mensagens recebidas via webhook



### Exemplo de Mensagem Enviada



```
ğŸ’³ *CobranÃ§a*

*Samuel Cassiano de Carvalho*
BRL 2.319,36 (6x de BRL 386,56)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

05 Jan - BRL 386,56 ğŸ“…
05 Fev - BRL 386,56
05 Mar - BRL 386,56
...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Œ *Parcela 1 vencendo:*
ğŸ’µ BRL 386,56
ğŸ“… 05/01/2026

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¸ *Forma de Pagamento:*

ğŸ“± *PIX:*
`84988910528`

Por favor, efetue o pagamento.
```



<br/>



## `> license`



<div align="center">



<img src="https://img.shields.io/badge/License-MIT-dc2626?style=for-the-badge"/>



</div>



<br/>



<div align="center">

  <img width="100%" src="https://capsule-render.vercel.app/api?type=waving&color=1e40af&height=120&section=footer"/>

</div>
